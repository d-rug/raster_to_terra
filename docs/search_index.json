[["index.html", "Raster to Terra Overview 0.1 Learning Goals 0.2 Prerequisites 0.3 What we will cover", " Raster to Terra Elise Hellwig 2023-09-26 Overview No one wants to relearn something they already know how to do. But sometimes there’s no other choice. The sp, rgdal, rgeos, and maptools packages will be gone by the end of 2023. The raster package is not long for this world either. sf is nice, but it doesn’t have the raster functionality necessary for many types of analysis. This workshop aims to make the transition from raster to terra as painless as possible. 0.1 Learning Goals Get a sense for the functionality of the terra package as a whole Be able to translate existing code from deprecated packages to terra syntax Know where to find more information about terra. This presentation will NOT give you a comprehensive discussion of terra. It is too short for that. However, it will provide links to places you can find more documentation. 0.2 Prerequisites Familiarity with the raster and sp packages 0.3 What we will cover read/write transformations joining calculations get coordinates for spatVector sampling transformation Plotting interpolation data access "],["terra-a-birds-eye-view.html", "1 terra: a bird’s eye view", " 1 terra: a bird’s eye view The last spatial package you’ll ever need* Rasters and Vectors, with united functions where possible One task, one function Improved speed Very large: 345 functions; raster has 277, sf has 150 Some things changed, many stayed the same Old Packages: sp, raster, rgdal, rgeos, maptools New Packages: terra and geodata (for data) library(microbenchmark) # for speed testing #new packages library(terra) ## terra 1.7.49 library(geodata) #old packages library(raster) ## Loading required package: sp ## The legacy packages maptools, rgdal, and rgeos, underpinning the sp package, ## which was just loaded, will retire in October 2023. ## Please refer to R-spatial evolution reports for details, especially ## https://r-spatial.org/r/2023/05/15/evolution4.html. ## It may be desirable to make the sf package available; ## package maintainers should consider adding sf to Suggests:. ## The sp package is now running under evolution status 2 ## (status 2 uses the sf package in place of rgdal) library(rgdal) ## Please note that rgdal will be retired during October 2023, ## plan transition to sf/stars/terra functions using GDAL and PROJ ## at your earliest convenience. ## See https://r-spatial.org/r/2023/05/15/evolution4.html and https://github.com/r-spatial/evolution ## rgdal: version: 1.6-7, (SVN revision 1203) ## Geospatial Data Abstraction Library extensions to R successfully loaded ## Loaded GDAL runtime: GDAL 3.5.3, released 2022/10/21 ## Path to GDAL shared files: /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/rgdal/gdal ## GDAL does not use iconv for recoding strings. ## GDAL binary built with GEOS: TRUE ## Loaded PROJ runtime: Rel. 9.1.0, September 1st, 2022, [PJ_VERSION: 910] ## Path to PROJ shared files: /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/rgdal/proj ## PROJ CDN enabled: FALSE ## Linking to sp version:1.6-1 ## To mute warnings of possible GDAL/OSR exportToProj4() degradation, ## use options(&quot;rgdal_show_exportToProj4_warnings&quot;=&quot;none&quot;) before loading sp or rgdal. ## ## Attaching package: &#39;rgdal&#39; ## The following object is masked from &#39;package:terra&#39;: ## ## project #table formatting library(data.table) ## ## Attaching package: &#39;data.table&#39; ## The following object is masked from &#39;package:raster&#39;: ## ## shift ## The following object is masked from &#39;package:terra&#39;: ## ## shift library(kableExtra) options(warn=-1) funs = fread(&#39;data/raster_to_terra_funs.csv&#39;) vars = c(&#39;DataType&#39;, &#39;Operation&#39;, &#39;old&#39;, &#39;terra&#39;) # from geodata package bio = worldclim_tile(&#39;bio&#39;, lon=-119, lat=38, res=2.5, path=&#39;data&#39;) usa = gadm(&#39;USA&#39;, path=&#39;data&#39;) writeVector(usa, &#39;data/usa.geojson&#39;, filetype=&#39;GeoJSON&#39;) writeVector(usa, &#39;data/USA/usa.shp&#39;, filetype=&#39;ESRI Shapefile&#39;) "],["the-basics.html", "2 The basics 2.1 Reading in data 2.2 Writing data", " 2 The basics 2.1 Reading in data Reading and writing data functionality is based on GDAL, so you will have all the flexibility in your choice of file type that GDAL provides. io = funs[OperationGroup==&#39;I/O&#39;, ..vars] io %&gt;% kbl() %&gt;% kable_styling() DataType Operation old terra raster read data raster, stack, brick rast vector read data shapefile, rgdal::readOGR vect raster write data writeRaster writeRaster vector write data shapefile, rgdal::writeOGR writeVector # reading raster data elev_fn = system.file(&quot;ex/elev.tif&quot;, package=&quot;terra&quot;) microbenchmark( rast(elev_fn), raster(elev_fn), times = 100 ) ## Unit: microseconds ## expr min lq mean median uq max ## rast(elev_fn) 625.455 660.2025 837.7095 695.8315 719.5295 9427.54 ## raster(elev_fn) 6436.836 6541.1195 9698.8616 6622.6890 6716.4765 271277.20 ## neval ## 100 ## 100 #reading vector data lux_fn = system.file(&quot;ex/lux.shp&quot;, package=&quot;terra&quot;) microbenchmark( vect(lux_fn), shapefile(lux_fn), readOGR(lux_fn), times=100 ) ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## OGR data source with driver: ESRI Shapefile ## Source: &quot;/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/terra/ex/lux.shp&quot;, layer: &quot;lux&quot; ## with 12 features ## It has 6 fields ## Integer64 fields read as strings: POP ## Unit: microseconds ## expr min lq mean median uq ## vect(lux_fn) 728.939 778.9385 1007.157 856.7565 1089.595 ## shapefile(lux_fn) 10299.323 10726.2355 11397.185 11157.9655 11816.180 ## readOGR(lux_fn) 357801.875 358997.8860 360530.139 359926.8025 361078.144 ## max neval ## 10977.75 100 ## 19452.78 100 ## 372546.91 100 elev = rast(elev_fn) lux = vect(lux_fn) r_elev = raster(elev) sp_lux = shapefile(lux_fn) 2.2 Writing data The function writeRaster() is relatively unchanged, though the argument specifying the type of file written has changed from format (in raster) to filetype (in terra). Additionally, while in theory the function can automatically detect the file type, it seems to rarely work, so it is better to just specify filetype from the get-go. writeRaster(elev, filename=paste0(&#39;data/elevation.GTiff&#39;), filetype=&#39;GTiff&#39;, overwrite=TRUE) With spatVectors we get writeVector(), which largely mirrors writeRaster(). writeVector(lux, filename=&#39;data/lux.shp&#39;, filetype=&#39;ESRI Shapefile&#39;) "],["transform.html", "3 Transform", " 3 Transform Most of the methods for transforming spatial data remain the same from raster. The exception to that is raster::projectRaster(), which now becomes terra::project() and now works for both rasters and vectors. microbenchmark( terra::project(elev, &quot;epsg:3310&quot;), raster::projectRaster(r_elev, crs=&quot;epsg:3310&quot;), times=10 ) ## Unit: milliseconds ## expr min lq mean ## terra::project(elev, &quot;epsg:3310&quot;) 40.77634 41.26367 45.29217 ## raster::projectRaster(r_elev, crs = &quot;epsg:3310&quot;) 49.67679 51.46267 66.56279 ## median uq max neval ## 41.89909 43.59829 66.89052 10 ## 54.25626 56.03519 125.79259 10 "],["combine.html", "4 Combine 4.1 Querying", " 4 Combine 4.1 Querying Similar to "],["calculate.html", "5 Calculate", " 5 Calculate "],["extents.html", "6 Extents", " 6 Extents "],["what-about-sf-and-stars.html", "7 What about sf (and stars)?", " 7 What about sf (and stars)? "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
